(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ca798e8"],{"0dad":function(e,t,n){},"141e":function(e,t,n){"use strict";n("cf64")},"18f4":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),o=function(e){return Object(i["I"])("data-v-bc43a1bc"),e=e(),Object(i["G"])(),e},a=o((function(){return Object(i["i"])("div",{class:"title"},[Object(i["i"])("h1",null,"Client complaints"),Object(i["i"])("i",{class:"far fa-thumbs-down fa-4x",style:{"font-family":"'Font Awesome 5 Pro'"}})],-1)})),r=o((function(){return Object(i["i"])("div",{style:{"background-color":"#212529",padding:"15px","text-align":"-webkit-center"}},[Object(i["i"])("div",{class:"container w-100 row row-cols-1 row-cols-sm-1 row-cols-md-4",style:{"justify-content":"space-evenly","align-items":"center",height:"38px",color:"#dddddd","font-size":"20px"}})],-1)})),c={class:"table-users"},s=o((function(){return Object(i["i"])("thead",null,[Object(i["i"])("tr",null,[Object(i["i"])("th",null,"Client "),Object(i["i"])("th",null,"Service"),Object(i["i"])("th",null,"Advertiser"),Object(i["i"])("th",null,"Complaint "),Object(i["i"])("th")])],-1)})),l=["complaint"],d=["data-bs-target"];function u(e,t,n,o,u,b){var p=Object(i["O"])("complaint-response");return Object(i["F"])(),Object(i["h"])("div",null,[a,r,Object(i["i"])("div",null,[Object(i["i"])("table",c,[s,Object(i["i"])("tbody",null,[(Object(i["F"])(!0),Object(i["h"])(i["a"],null,Object(i["M"])(e.complaints,(function(e){return Object(i["F"])(),Object(i["h"])("tr",{key:e.id,complaint:e},[Object(i["i"])("td",null,Object(i["R"])(e.clientFullName),1),Object(i["i"])("td",null,Object(i["R"])(e.serviceName),1),Object(i["i"])("td",null,Object(i["R"])(e.advertiserFullName),1),Object(i["i"])("td",null,Object(i["R"])(e.content),1),Object(i["i"])("td",null,[Object(i["i"])("button",{class:"green-btn","data-bs-toggle":"modal","data-bs-target":"#complaint-response"+e.id}," Respond",8,d)]),Object(i["m"])(p,{id:"complaint-response"+e.id,complaint:e},null,8,["id","complaint"])],8,l)})),128))])])])])}n("a434");var b=function(e){return Object(i["I"])("data-v-d11099b4"),e=e(),Object(i["G"])(),e},p=["id"],h={class:"modal-dialog modal-dialog-centered"},f={class:"modal-content",style:{height:"35.0rem"}},m={class:"modal-header"},O=b((function(){return Object(i["i"])("h3",{style:{"font-size":"23px"}}," Complaint responses ",-1)})),j=b((function(){return Object(i["i"])("i",{class:"fas fa-times fa-lg"},null,-1)})),v=[j],g={class:"modal-body"},w=b((function(){return Object(i["i"])("h4",{style:{color:"white",padding:"0px","text-align":"left"}},"To client:",-1)})),k=b((function(){return Object(i["i"])("h4",{style:{color:"white","margin-top":"15px","text-align":"left"}},"To advertiser:",-1)})),y={style:{color:"red","margin-top":"1rem"}},x={class:"modal-footer"};function C(e,t,n,o,a,r){return Object(i["F"])(),Object(i["h"])("div",{class:"modal fade dark",id:n.id,tabindex:"-1","aria-labelledby":"OfferModalLabel","data-bs-backdrop":"static","aria-hidden":"true"},[Object(i["i"])("div",h,[Object(i["i"])("div",f,[Object(i["i"])("div",m,[O,Object(i["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=function(){return r.closeModal&&r.closeModal.apply(r,arguments)})},v)]),Object(i["i"])("div",g,[w,Object(i["ab"])(Object(i["i"])("textarea",{class:"login-inputs-textarea",placeholder:"Enter respone to client here..","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.toClient=t}),style:{"max-height":"10rem","margin-top":"15px"}},null,512),[[i["W"],e.toClient]]),k,Object(i["ab"])(Object(i["i"])("textarea",{class:"login-inputs-textarea",placeholder:"Enter respone to advertiser here..","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.toAdvertiser=t}),style:{"max-height":"10rem","margin-top":"10px"}},null,512),[[i["W"],e.toAdvertiser]]),Object(i["i"])("h6",y,[Object(i["i"])("b",null,Object(i["R"])(e.error),1)])]),Object(i["i"])("div",x,[Object(i["i"])("button",{type:"button",class:"btn btn-outline-primary",style:{width:"30%"},onClick:t[3]||(t[3]=function(){return r.sendResponse&&r.sendResponse.apply(r,arguments)})}," Send response ")])])])],8,p)}var A=n("bc3a"),R=n.n(A);R.a.defaults.baseURL="https://fishing-adventure-website-back.herokuapp.com";var M={name:"ComplaintResponseModal",props:["id","complaint"],data:function(){return{toClient:"",toAdvertiser:"",error:""}},mounted:function(){},methods:{closeModal:function(){this.toClient="",this.toAdvertiser="",this.error=""},sendResponse:function(){if(""==this.toClient||""==this.toAdvertiser)this.error="You must write both responses.";else{var e={complaintId:this.complaint.id,clientMessage:this.toClient,advertiserMessage:this.toAdvertiser,clientEmail:this.complaint.clientEmail,advertiserEmail:this.complaint.advertiserEmail};R.a.put("/complaint/respondToComplaint/",e,{headers:{"Access-Control-Allow-Origin":"https://fishing-adventure-website-back.herokuapp.com",Authorization:"Bearer "+localStorage.refreshToken}}).then(window.location.reload())}}}},T=(n("c2de"),n("6b0d")),E=n.n(T);const F=E()(M,[["render",C],["__scopeId","data-v-d11099b4"]]);var S=F;R.a.defaults.baseURL="https://fishing-adventure-website-back.herokuapp.com";var z={components:{"complaint-response":S},data:function(){return{searchText:"",searchResults:[],complaints:[]}},mounted:function(){var e=this;R.a.get("/complaint/getClientComplaints",{headers:{"Access-Control-Allow-Origin":"https://fishing-adventure-website-back.herokuapp.com",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(t){e.complaints=t.data}))},methods:{sanctionClient:function(e){var t=this;R.a.put("/reservationReport/sanctionClient/",e,{headers:{"Access-Control-Allow-Origin":"https://fishing-adventure-website-back.herokuapp.com",Authorization:"Bearer "+localStorage.refreshToken}}).then((function(){t.reports.splice(t.reports.indexOf(e)),t.$toast.show("User has been sanctioned.",{duration:3e3})}))},dontSanctionClient:function(e){R.a.put("/reservationReport/rejectPenalty/",e,{headers:{"Access-Control-Allow-Origin":"https://fishing-adventure-website-back.herokuapp.com",Authorization:"Bearer "+localStorage.refreshToken}}).then(this.reports.splice(this.reports.indexOf(e)))}}};n("141e"),n("3c72");const I=E()(z,[["render",u],["__scopeId","data-v-bc43a1bc"]]);t["default"]=I},"3c72":function(e,t,n){"use strict";n("0dad")},"67bd":function(e,t,n){},a434:function(e,t,n){"use strict";var i=n("23e7"),o=n("da84"),a=n("23cb"),r=n("5926"),c=n("07fa"),s=n("7b0b"),l=n("65f0"),d=n("8418"),u=n("1dde"),b=u("splice"),p=o.TypeError,h=Math.max,f=Math.min,m=9007199254740991,O="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var n,i,o,u,b,j,v=s(this),g=c(v),w=a(e,g),k=arguments.length;if(0===k?n=i=0:1===k?(n=0,i=g-w):(n=k-2,i=f(h(r(t),0),g-w)),g+n-i>m)throw p(O);for(o=l(v,i),u=0;u<i;u++)b=w+u,b in v&&d(o,u,v[b]);if(o.length=i,n<i){for(u=w;u<g-i;u++)b=u+i,j=u+n,b in v?v[j]=v[b]:delete v[j];for(u=g;u>g-i+n;u--)delete v[u-1]}else if(n>i)for(u=g-i;u>w;u--)b=u+i-1,j=u+n-1,b in v?v[j]=v[b]:delete v[j];for(u=0;u<n;u++)v[u+w]=arguments[u+2];return v.length=g-i+n,o}})},c2de:function(e,t,n){"use strict";n("67bd")},cf64:function(e,t,n){}}]);
//# sourceMappingURL=chunk-9ca798e8.d6785863.js.map